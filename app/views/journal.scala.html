
@(form : String)

@main("E-Journal")("journal"){
  
  
  
  <script>
  
  function abcd(row) {
    
  }
  
  $.ajax({
    type: 'GET',
    url: '/links/ejournals',
    data: {
      name: 'abcd',
      url : 'https://www.google.com',
      code: 'abcd'
    },
    dataType: "json"
  })
  .done(function(data) {
    if(data.length == 0){
         $(document).write("No Publishers Available");
     } else {
	var body=document.getElementsByTagName('body')[0];
	var tbl=document.createElement('table');
	tbl.style.width='60%';
	tbl.setAttribute('border','1');
	var tbdy=document.createElement('tbody');
	
	for(var i = 0; i < data.length; i++){
	  var tr=document.createElement('tr');
	  
	  for(var j = 0; j < 3; j++){
		var td=document.createElement('td');
		var dt="";
		if(j==0) dt=i+1;
		else if(j==1) dt=data[i].name;
		else dt=data[i].code;
		td.appendChild(document.createTextNode(dt))
		tr.appendChild(td)
	  }
	  tbdy.appendChild(tr);
	}
	tbl.appendChild(tbdy);
	body.appendChild(tbl)
     }
     
  })
  .fail(function(jxHeader, errorText, errorThrown) {
    alert("error");
    alert(errorText + " " + errorThrown);
  })
  
//   function onClick(row){
// 	$.ajax({
// 	type: 'GET',
// 	url: '/links/ejournals/'+row.code,
// 	data: {
// 	  name: 'abcd',
// 	  year accessed : '1994',
// 	  code: 'abcd'
// 	},
// 	dataType: "json"
//       })
//       .done(function(pub) {
// 	if(data.length == 0){
// 	    $(document).write("No Publishers Available");
// 	} else {
// 	    var tbl=document.createElement('table');
// 	    tbl.style.width='60%';
// 	    tbl.setAttribute('border','1');
// 	    var tbdy=document.createElement('tbody');
// 	    var tr=document.createElement('tr');
// 	    
// 	    for(var i = 0; i < pub.length; i++){
// 	      var tr=document.createElement('tr');
// 	      
// 	      for(var j = 0; j < 3; j++){
// 		    var td=document.createElement('td');
// 		    var dt="";
// 		    if(j==0) dt=i+1;
// 		    else if(j==1) dt='<a href="">'+pub[i].name+'</a>';
// 		    else dt=pub[i].year accessed;
// 		    td.appendChild(document.createTextNode(dt))
// 		    tr.appendChild(td)
// 	      }
// 	      tbdy.appendChild(tr);
// 	    }
// 	    tbl.appendChild(tbdy);
// 	    body.appendChild(tbl)
// 	}
// 	
//       })
//       .fail(function(jxHeader, errorText, errorThrown) {
// 	alert("error");
// 	alert(errorText + " " + errorThrown);
//       })
// }
//   onClick({'abcd','www.google.com','abcd'});

  </script>
  
  
  
  <p id="tx"></p>
  
  
  }